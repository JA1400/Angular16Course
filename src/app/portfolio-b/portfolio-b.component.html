<h1 *ngIf="showHeading">Portfolio</h1>
<!-- render the container if submitted is false, else we render the preview -->
<ng-container *ngIf="!submitted; else preview">
    <h2>Personal Info</h2>
    <form>
        <div>
            <label for="name">Name</label>
            <input type="text" name="name" id="name" [(ngModel)]="nm">
        </div>
        <div>
            <label for="email">Email</label>
            <input type="email" name="email" id="email" [(ngModel)]="em">
        </div>
        <div>
            <label for="phone">Phone</label>
            <input type="tel" name="phone" id="phone" [(ngModel)]="ph">
        </div>
        <div>
            <label for="address">Address</label>
            <input type="text" name="address" id="address" [(ngModel)]="add">
        </div>
    </form>
    <h2>Qualifications</h2>
    <!--  -->
    <div *ngFor=" let q of qualification; let i = index">
        <h3>Qualification {{i+1}}</h3>
        <form>
            <div>
                <label for="school">School</label>
                <input type="text" name="school" id="school" [(ngModel)]="q.school">
            </div>
            <div>
                <label for="degree">Degree</label>
                <input type="text" name="degree" id="degree" [(ngModel)]="q.degree">
            </div>
            <div>
                <label for="year">Year</label>
                <input type="text" name="year" id="year" [(ngModel)]="q.year">
            </div>
        </form>
    </div>
    <div class="btn-container">
        <button (click)="addQ()">Add Qualification</button>
        <button type="submit" (click)="submit()">Submit</button>
    </div>
</ng-container>

<!-- we use a template to hide this until the end! -->
<ng-template #preview>
    <div class="preview-container">
        <h2>Preview</h2>
        <div>
            <p [ngClass]="['name']">{{nm}}</p>
            <p>Email : {{em}}</p>
            <p>Phone : {{ph}}</p>
            <p>Address : {{add}}</p>
        </div>
        <div>
            <h3>Qualification</h3>
            <div *ngFor=" let q of qualification">
                <h5>School/College : {{q.school}}</h5>
                <h5>Degree : {{q.degree}} {{q.year}}</h5>
            </div>
        </div>
        <button class="btn-edit" (click)="edit()">Edit</button>
    </div>
</ng-template>